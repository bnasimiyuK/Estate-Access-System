{
    "sourceFile": "frontend/sections/gate_overrides.html",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 4,
            "patches": [
                {
                    "date": 1763949657678,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1763951686495,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,70 +1,19 @@\n-<!-- Load Tailwind CSS for styling (MUST be included for this fragment to style itself when dynamically loaded) -->\r\n-<script src=\"https://cdn.tailwindcss.com\"></script>\r\n-<style>\r\n-    /* Custom styles for better readability and a clean look */\r\n-    .container-shadow {\r\n-        box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);\r\n-    }\r\n-    .table-row-hover:hover {\r\n-        background-color: #f3f4f6;\r\n-    }\r\n-</style>\r\n+<h2 class=\"text-2xl font-bold mb-4\">Gate Override Logs</h2>\r\n \r\n-<!-- Main content fragment, carrying the original body classes -->\r\n-<div class=\"bg-gray-50 p-6 min-h-screen\">\r\n+<div class=\"overflow-x-auto bg-white shadow-lg rounded-lg p-4\">\r\n+    <table class=\"min-w-full text-sm\">\r\n+        <thead>\r\n+            <tr class=\"border-b bg-gray-100\">\r\n+                <th class=\"px-4 py-2 text-left\">ID</th>\r\n+                <th class=\"px-4 py-2 text-left\">Gate ID</th>\r\n+                <th class=\"px-4 py-2 text-left\">Action</th>\r\n+                <th class=\"px-4 py-2 text-left\">Reason</th>\r\n+                <th class=\"px-4 py-2 text-left\">User ID</th>\r\n+                <th class=\"px-4 py-2 text-left\">Timestamp</th>\r\n+            </tr>\r\n+        </thead>\r\n+        <tbody id=\"gateOverrideTableBody\"></tbody>\r\n+    </table>\r\n+</div>\r\n \r\n-    <div class=\"max-w-7xl mx-auto\">\r\n-        <h1 class=\"text-3xl font-extrabold text-gray-900 mb-6 border-b pb-2\">\r\n-            Gate Override & Manual Access Logs\r\n-        </h1>\r\n-\r\n-        <!-- Filters and Controls -->\r\n-        <div class=\"bg-white p-6 rounded-xl container-shadow mb-8 flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0 md:space-x-4\">\r\n-            <div class=\"flex-grow w-full md:w-auto\">\r\n-                <label for=\"filterGateId\" class=\"block text-sm font-medium text-gray-700\">Filter by Gate ID</label>\r\n-                <input type=\"text\" id=\"filterGateId\" placeholder=\"Gate 1, Gate 2...\"\r\n-                       class=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm p-2 border focus:border-indigo-500 focus:ring-indigo-500\">\r\n-            </div>\r\n-            <div class=\"flex-grow w-full md:w-auto\">\r\n-                <label for=\"filterAction\" class=\"block text-sm font-medium text-gray-700\">Filter by Action</label>\r\n-                <input type=\"text\" id=\"filterAction\" placeholder=\"OPEN, CLOSE, Override...\"\r\n-                       class=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm p-2 border focus:border-indigo-500 focus:ring-indigo-500\">\r\n-            </div>\r\n-            <button id=\"exportLogsBtn\"\r\n-                    class=\"w-full md:w-auto mt-6 md:mt-1 flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition duration-150 ease-in-out\">\r\n-                <svg class=\"h-5 w-5 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4\"></path></svg>\r\n-                Export CSV\r\n-            </button>\r\n-        </div>\r\n-\r\n-        <!-- Logs Table -->\r\n-        <div class=\"bg-white rounded-xl container-shadow overflow-x-auto\">\r\n-            <table class=\"min-w-full divide-y divide-gray-200\">\r\n-                <thead class=\"bg-gray-100\">\r\n-                    <tr>\r\n-                        <!-- Table Headers match SQL columns: id, gateId, action, reason, userId, createdAt -->\r\n-                        <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">ID</th>\r\n-                        <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Gate ID</th>\r\n-                        <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Action</th>\r\n-                        <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Reason/Context</th>\r\n-                        <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">User ID (Admin/Security)</th>\r\n-                        <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Timestamp</th>\r\n-                    </tr>\r\n-                </thead>\r\n-                <tbody id=\"logsTableBody\" class=\"bg-white divide-y divide-gray-200\">\r\n\\ No newline at end of file\n-                    <!-- Logs data will be inserted here by JavaScript -->\r\n-                    <tr>\r\n-                        <td colspan=\"6\" class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center\">Loading gate override logs...</td>\r\n-                    </tr>\r\n-                </tbody>\r\n-            </table>\r\n-        </div>\r\n-\r\n-        <!-- Notification Message Area -->\r\n-        <div id=\"statusMessage\" class=\"mt-4 p-3 bg-red-100 text-red-700 rounded-lg hidden\" role=\"alert\"></div>\r\n-\r\n-    </div>\r\n-\r\n-    <!-- Link to the external JavaScript file -->\r\n-    <script type=\"module\" src=\"./gate_override_logs.js\"></script>\r\n-</div>\n+<script type=\"module\" src=\"js/gate_overrides.js\"></script>\r\n"
                },
                {
                    "date": 1763951707496,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,19 +1,70 @@\n-<h2 class=\"text-2xl font-bold mb-4\">Gate Override Logs</h2>\r\n+<!-- Load Tailwind CSS for styling (MUST be included for this fragment to style itself when dynamically loaded) -->\r\n+<script src=\"https://cdn.tailwindcss.com\"></script>\r\n+<style>\r\n+    /* Custom styles for better readability and a clean look */\r\n+    .container-shadow {\r\n+        box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);\r\n+    }\r\n+    .table-row-hover:hover {\r\n+        background-color: #f3f4f6;\r\n+    }\r\n+</style>\r\n \r\n-<div class=\"overflow-x-auto bg-white shadow-lg rounded-lg p-4\">\r\n-    <table class=\"min-w-full text-sm\">\r\n-        <thead>\r\n-            <tr class=\"border-b bg-gray-100\">\r\n-                <th class=\"px-4 py-2 text-left\">ID</th>\r\n-                <th class=\"px-4 py-2 text-left\">Gate ID</th>\r\n-                <th class=\"px-4 py-2 text-left\">Action</th>\r\n-                <th class=\"px-4 py-2 text-left\">Reason</th>\r\n-                <th class=\"px-4 py-2 text-left\">User ID</th>\r\n-                <th class=\"px-4 py-2 text-left\">Timestamp</th>\r\n-            </tr>\r\n-        </thead>\r\n-        <tbody id=\"gateOverrideTableBody\"></tbody>\r\n-    </table>\r\n-</div>\r\n+<!-- Main content fragment, carrying the original body classes -->\r\n+<div class=\"bg-gray-50 p-6 min-h-screen\">\r\n \r\n-<script type=\"module\" src=\"js/gate_overrides.js\"></script>\r\n+    <div class=\"max-w-7xl mx-auto\">\r\n+        <h1 class=\"text-3xl font-extrabold text-gray-900 mb-6 border-b pb-2\">\r\n+            Gate Override & Manual Access Logs\r\n+        </h1>\r\n+\r\n+        <!-- Filters and Controls -->\r\n+        <div class=\"bg-white p-6 rounded-xl container-shadow mb-8 flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0 md:space-x-4\">\r\n+            <div class=\"flex-grow w-full md:w-auto\">\r\n+                <label for=\"filterGateId\" class=\"block text-sm font-medium text-gray-700\">Filter by Gate ID</label>\r\n+                <input type=\"text\" id=\"filterGateId\" placeholder=\"Gate 1, Gate 2...\"\r\n+                       class=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm p-2 border focus:border-indigo-500 focus:ring-indigo-500\">\r\n+            </div>\r\n+            <div class=\"flex-grow w-full md:w-auto\">\r\n+                <label for=\"filterAction\" class=\"block text-sm font-medium text-gray-700\">Filter by Action</label>\r\n+                <input type=\"text\" id=\"filterAction\" placeholder=\"OPEN, CLOSE, Override...\"\r\n+                       class=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm p-2 border focus:border-indigo-500 focus:ring-indigo-500\">\r\n+            </div>\r\n+            <button id=\"exportLogsBtn\"\r\n+                    class=\"w-full md:w-auto mt-6 md:mt-1 flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition duration-150 ease-in-out\">\r\n+                <svg class=\"h-5 w-5 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4\"></path></svg>\r\n+                Export CSV\r\n+            </button>\r\n+        </div>\r\n+\r\n+        <!-- Logs Table -->\r\n+        <div class=\"bg-white rounded-xl container-shadow overflow-x-auto\">\r\n+            <table class=\"min-w-full divide-y divide-gray-200\">\r\n+                <thead class=\"bg-gray-100\">\r\n+                    <tr>\r\n+                        <!-- Table Headers match SQL columns: id, gateId, action, reason, userId, createdAt -->\r\n+                        <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">ID</th>\r\n+                        <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Gate ID</th>\r\n+                        <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Action</th>\r\n+                        <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Reason/Context</th>\r\n+                        <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">User ID (Admin/Security)</th>\r\n+                        <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Timestamp</th>\r\n+                    </tr>\r\n+                </thead>\r\n+                <tbody id=\"logsTableBody\" class=\"bg-white divide-y divide-gray-200\">\r\n+                    <!-- Logs data will be inserted here by JavaScript -->\r\n+                    <tr>\r\n+                        <td colspan=\"6\" class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center\">Loading gate override logs...</td>\r\n+                    </tr>\r\n+                </tbody>\r\n+            </table>\r\n+        </div>\r\n+\r\n+        <!-- Notification Message Area -->\r\n+        <div id=\"statusMessage\" class=\"mt-4 p-3 bg-red-100 text-red-700 rounded-lg hidden\" role=\"alert\"></div>\r\n+\r\n+    </div>\r\n+\r\n+    <!-- Link to the external JavaScript file -->\r\n+    <script type=\"module\" src=\"./gate_override_logs.js\"></script>\r\n+</div>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1763951739348,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,70 +1,19 @@\n-<!-- Load Tailwind CSS for styling (MUST be included for this fragment to style itself when dynamically loaded) -->\r\n-<script src=\"https://cdn.tailwindcss.com\"></script>\r\n-<style>\r\n-    /* Custom styles for better readability and a clean look */\r\n-    .container-shadow {\r\n-        box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);\r\n-    }\r\n-    .table-row-hover:hover {\r\n-        background-color: #f3f4f6;\r\n-    }\r\n-</style>\r\n+<h2 class=\"text-2xl font-bold mb-4\">Gate Override Logs</h2>\r\n \r\n-<!-- Main content fragment, carrying the original body classes -->\r\n-<div class=\"bg-gray-50 p-6 min-h-screen\">\r\n+<div class=\"overflow-x-auto bg-white shadow-lg rounded-lg p-4\">\r\n+    <table class=\"min-w-full text-sm\">\r\n+        <thead>\r\n+            <tr class=\"border-b bg-gray-100\">\r\n+                <th class=\"px-4 py-2 text-left\">ID</th>\r\n+                <th class=\"px-4 py-2 text-left\">Gate ID</th>\r\n+                <th class=\"px-4 py-2 text-left\">Action</th>\r\n+                <th class=\"px-4 py-2 text-left\">Reason</th>\r\n+                <th class=\"px-4 py-2 text-left\">User ID</th>\r\n+                <th class=\"px-4 py-2 text-left\">Timestamp</th>\r\n+            </tr>\r\n+        </thead>\r\n+        <tbody id=\"gateOverrideTableBody\"></tbody>\r\n+    </table>\r\n+</div>\r\n \r\n-    <div class=\"max-w-7xl mx-auto\">\r\n-        <h1 class=\"text-3xl font-extrabold text-gray-900 mb-6 border-b pb-2\">\r\n-            Gate Override & Manual Access Logs\r\n-        </h1>\r\n-\r\n-        <!-- Filters and Controls -->\r\n-        <div class=\"bg-white p-6 rounded-xl container-shadow mb-8 flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0 md:space-x-4\">\r\n-            <div class=\"flex-grow w-full md:w-auto\">\r\n-                <label for=\"filterGateId\" class=\"block text-sm font-medium text-gray-700\">Filter by Gate ID</label>\r\n-                <input type=\"text\" id=\"filterGateId\" placeholder=\"Gate 1, Gate 2...\"\r\n-                       class=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm p-2 border focus:border-indigo-500 focus:ring-indigo-500\">\r\n-            </div>\r\n-            <div class=\"flex-grow w-full md:w-auto\">\r\n-                <label for=\"filterAction\" class=\"block text-sm font-medium text-gray-700\">Filter by Action</label>\r\n-                <input type=\"text\" id=\"filterAction\" placeholder=\"OPEN, CLOSE, Override...\"\r\n-                       class=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm p-2 border focus:border-indigo-500 focus:ring-indigo-500\">\r\n-            </div>\r\n-            <button id=\"exportLogsBtn\"\r\n-                    class=\"w-full md:w-auto mt-6 md:mt-1 flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition duration-150 ease-in-out\">\r\n-                <svg class=\"h-5 w-5 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4\"></path></svg>\r\n-                Export CSV\r\n-            </button>\r\n-        </div>\r\n-\r\n-        <!-- Logs Table -->\r\n-        <div class=\"bg-white rounded-xl container-shadow overflow-x-auto\">\r\n-            <table class=\"min-w-full divide-y divide-gray-200\">\r\n-                <thead class=\"bg-gray-100\">\r\n-                    <tr>\r\n-                        <!-- Table Headers match SQL columns: id, gateId, action, reason, userId, createdAt -->\r\n-                        <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">ID</th>\r\n-                        <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Gate ID</th>\r\n-                        <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Action</th>\r\n-                        <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Reason/Context</th>\r\n-                        <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">User ID (Admin/Security)</th>\r\n-                        <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Timestamp</th>\r\n-                    </tr>\r\n-                </thead>\r\n-                <tbody id=\"logsTableBody\" class=\"bg-white divide-y divide-gray-200\">\r\n\\ No newline at end of file\n-                    <!-- Logs data will be inserted here by JavaScript -->\r\n-                    <tr>\r\n-                        <td colspan=\"6\" class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center\">Loading gate override logs...</td>\r\n-                    </tr>\r\n-                </tbody>\r\n-            </table>\r\n-        </div>\r\n-\r\n-        <!-- Notification Message Area -->\r\n-        <div id=\"statusMessage\" class=\"mt-4 p-3 bg-red-100 text-red-700 rounded-lg hidden\" role=\"alert\"></div>\r\n-\r\n-    </div>\r\n-\r\n-    <!-- Link to the external JavaScript file -->\r\n-    <script type=\"module\" src=\"./gate_override_logs.js\"></script>\r\n-</div>\n+<script type=\"module\" src=\"js/gate_overrides.js\"></script>\r\n"
                },
                {
                    "date": 1763954542854,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,19 +1,114 @@\n-<h2 class=\"text-2xl font-bold mb-4\">Gate Override Logs</h2>\r\n+<h2>Gate Override Logs</h2>\r\n \r\n+<div class=\"export-buttons\">\r\n+    <button id=\"exportCsvBtn\">Export CSV</button>\r\n+    <button id=\"exportExcelBtn\">Export Excel</button>\r\n+</div>\r\n+\r\n <div class=\"overflow-x-auto bg-white shadow-lg rounded-lg p-4\">\r\n     <table class=\"min-w-full text-sm\">\r\n         <thead>\r\n             <tr class=\"border-b bg-gray-100\">\r\n-                <th class=\"px-4 py-2 text-left\">ID</th>\r\n-                <th class=\"px-4 py-2 text-left\">Gate ID</th>\r\n-                <th class=\"px-4 py-2 text-left\">Action</th>\r\n-                <th class=\"px-4 py-2 text-left\">Reason</th>\r\n-                <th class=\"px-4 py-2 text-left\">User ID</th>\r\n-                <th class=\"px-4 py-2 text-left\">Timestamp</th>\r\n+                <th>ID<br><input type=\"text\" class=\"filter-input\" data-key=\"id\" placeholder=\"Filter\"></th>\r\n+                <th>Gate ID<br><input type=\"text\" class=\"filter-input\" data-key=\"gateId\" placeholder=\"Filter\"></th>\r\n+                <th>Action<br><input type=\"text\" class=\"filter-input\" data-key=\"action\" placeholder=\"Filter\"></th>\r\n+                <th>Reason<br><input type=\"text\" class=\"filter-input\" data-key=\"reason\" placeholder=\"Filter\"></th>\r\n+                <th>User ID<br><input type=\"text\" class=\"filter-input\" data-key=\"userId\" placeholder=\"Filter\"></th>\r\n+                <th>Timestamp<br><input type=\"text\" class=\"filter-input\" data-key=\"timestamp\" placeholder=\"Filter\"></th>\r\n             </tr>\r\n         </thead>\r\n         <tbody id=\"gateOverrideTableBody\"></tbody>\r\n     </table>\r\n </div>\r\n \r\n-<script type=\"module\" src=\"js/gate_overrides.js\"></script>\r\n+<style>\r\n+h2 { margin-bottom: 20px; font-family: Arial, sans-serif; }\r\n+table { width: 100%; border-collapse: collapse; font-family: Arial, sans-serif; }\r\n+th, td { padding: 10px; border: 1px solid #ddd; }\r\n+th { background: #f0f0f0; }\r\n+tr:nth-child(even) { background: #fafafa; }\r\n+.filter-input { width: 90%; padding: 4px; margin-bottom: 5px; }\r\n+.export-buttons { margin-bottom: 10px; }\r\n+button { margin-right: 10px; padding: 6px 12px; border: none; border-radius: 4px; cursor: pointer; }\r\n+button:hover { opacity: 0.85; }\r\n+button#exportCsvBtn { background-color: #4CAF50; color: white; }\r\n+button#exportExcelBtn { background-color: #2196F3; color: white; }\r\n+</style>\r\n+\r\n+<script type=\"module\">\r\n+document.addEventListener('DOMContentLoaded', () => {\r\n+    const tableBody = document.getElementById('gateOverrideTableBody');\r\n+    const filters = document.querySelectorAll('.filter-input');\r\n+\r\n+    // Example data â€” replace with API fetch if needed\r\n+    let data = [\r\n+        {id:1, gateId:'G01', action:'Open', reason:'Emergency', userId:'U123', timestamp:'2025-11-24 10:00'},\r\n+        {id:2, gateId:'G02', action:'Close', reason:'Maintenance', userId:'U124', timestamp:'2025-11-24 10:05'},\r\n+        {id:3, gateId:'G01', action:'Open', reason:'Test', userId:'U125', timestamp:'2025-11-24 10:10'},\r\n+    ];\r\n+\r\n+    function renderTable(filteredData) {\r\n+        tableBody.innerHTML = '';\r\n+        filteredData.forEach(row => {\r\n+            const tr = document.createElement('tr');\r\n+            tr.innerHTML = `\r\n+                <td class=\"px-4 py-2\">${row.id}</td>\r\n+                <td class=\"px-4 py-2\">${row.gateId}</td>\r\n+                <td class=\"px-4 py-2\">${row.action}</td>\r\n+                <td class=\"px-4 py-2\">${row.reason}</td>\r\n+                <td class=\"px-4 py-2\">${row.userId}</td>\r\n+                <td class=\"px-4 py-2\">${row.timestamp}</td>\r\n+            `;\r\n+            tableBody.appendChild(tr);\r\n+        });\r\n+    }\r\n+\r\n+    // Initial render\r\n+    renderTable(data);\r\n+\r\n+    // Apply inline filters\r\n+    filters.forEach(input => {\r\n+        input.addEventListener('input', () => {\r\n+            const filtered = data.filter(row => {\r\n+                return Array.from(filters).every(f => {\r\n+                    const key = f.dataset.key;\r\n+                    return String(row[key]).toLowerCase().includes(f.value.toLowerCase());\r\n+                });\r\n+            });\r\n+            renderTable(filtered);\r\n+        });\r\n+    });\r\n+\r\n+    // Export CSV\r\n+    document.getElementById('exportCsvBtn').addEventListener('click', () => {\r\n+        let csvContent = 'data:text/csv;charset=utf-8,';\r\n+        csvContent += ['ID','Gate ID','Action','Reason','User ID','Timestamp'].join(',') + '\\n';\r\n+        data.forEach(row => {\r\n+            csvContent += [row.id,row.gateId,row.action,row.reason,row.userId,row.timestamp].join(',') + '\\n';\r\n+        });\r\n+        const encodedUri = encodeURI(csvContent);\r\n+        const link = document.createElement('a');\r\n+        link.setAttribute('href', encodedUri);\r\n+        link.setAttribute('download', 'gate_override_logs.csv');\r\n+        document.body.appendChild(link);\r\n+        link.click();\r\n+        document.body.removeChild(link);\r\n+    });\r\n+\r\n+    // Export Excel\r\n+    document.getElementById('exportExcelBtn').addEventListener('click', () => {\r\n+        let tableHtml = '<table><tr><th>ID</th><th>Gate ID</th><th>Action</th><th>Reason</th><th>User ID</th><th>Timestamp</th></tr>';\r\n+        data.forEach(row => {\r\n+            tableHtml += `<tr><td>${row.id}</td><td>${row.gateId}</td><td>${row.action}</td><td>${row.reason}</td><td>${row.userId}</td><td>${row.timestamp}</td></tr>`;\r\n+        });\r\n+        tableHtml += '</table>';\r\n+        const blob = new Blob([tableHtml], { type: 'application/vnd.ms-excel' });\r\n+        const link = document.createElement('a');\r\n+        link.href = URL.createObjectURL(blob);\r\n+        link.download = 'gate_override_logs.xls';\r\n+        document.body.appendChild(link);\r\n+        link.click();\r\n+        document.body.removeChild(link);\r\n+    });\r\n+});\r\n+</script>\r\n"
                }
            ],
            "date": 1763949657678,
            "name": "Commit-0",
            "content": "<!-- Load Tailwind CSS for styling (MUST be included for this fragment to style itself when dynamically loaded) -->\r\n<script src=\"https://cdn.tailwindcss.com\"></script>\r\n<style>\r\n    /* Custom styles for better readability and a clean look */\r\n    .container-shadow {\r\n        box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);\r\n    }\r\n    .table-row-hover:hover {\r\n        background-color: #f3f4f6;\r\n    }\r\n</style>\r\n\r\n<!-- Main content fragment, carrying the original body classes -->\r\n<div class=\"bg-gray-50 p-6 min-h-screen\">\r\n\r\n    <div class=\"max-w-7xl mx-auto\">\r\n        <h1 class=\"text-3xl font-extrabold text-gray-900 mb-6 border-b pb-2\">\r\n            Gate Override & Manual Access Logs\r\n        </h1>\r\n\r\n        <!-- Filters and Controls -->\r\n        <div class=\"bg-white p-6 rounded-xl container-shadow mb-8 flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0 md:space-x-4\">\r\n            <div class=\"flex-grow w-full md:w-auto\">\r\n                <label for=\"filterGateId\" class=\"block text-sm font-medium text-gray-700\">Filter by Gate ID</label>\r\n                <input type=\"text\" id=\"filterGateId\" placeholder=\"Gate 1, Gate 2...\"\r\n                       class=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm p-2 border focus:border-indigo-500 focus:ring-indigo-500\">\r\n            </div>\r\n            <div class=\"flex-grow w-full md:w-auto\">\r\n                <label for=\"filterAction\" class=\"block text-sm font-medium text-gray-700\">Filter by Action</label>\r\n                <input type=\"text\" id=\"filterAction\" placeholder=\"OPEN, CLOSE, Override...\"\r\n                       class=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm p-2 border focus:border-indigo-500 focus:ring-indigo-500\">\r\n            </div>\r\n            <button id=\"exportLogsBtn\"\r\n                    class=\"w-full md:w-auto mt-6 md:mt-1 flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition duration-150 ease-in-out\">\r\n                <svg class=\"h-5 w-5 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4\"></path></svg>\r\n                Export CSV\r\n            </button>\r\n        </div>\r\n\r\n        <!-- Logs Table -->\r\n        <div class=\"bg-white rounded-xl container-shadow overflow-x-auto\">\r\n            <table class=\"min-w-full divide-y divide-gray-200\">\r\n                <thead class=\"bg-gray-100\">\r\n                    <tr>\r\n                        <!-- Table Headers match SQL columns: id, gateId, action, reason, userId, createdAt -->\r\n                        <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">ID</th>\r\n                        <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Gate ID</th>\r\n                        <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Action</th>\r\n                        <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Reason/Context</th>\r\n                        <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">User ID (Admin/Security)</th>\r\n                        <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Timestamp</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody id=\"logsTableBody\" class=\"bg-white divide-y divide-gray-200\">\r\n                    <!-- Logs data will be inserted here by JavaScript -->\r\n                    <tr>\r\n                        <td colspan=\"6\" class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center\">Loading gate override logs...</td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n\r\n        <!-- Notification Message Area -->\r\n        <div id=\"statusMessage\" class=\"mt-4 p-3 bg-red-100 text-red-700 rounded-lg hidden\" role=\"alert\"></div>\r\n\r\n    </div>\r\n\r\n    <!-- Link to the external JavaScript file -->\r\n    <script type=\"module\" src=\"./gate_override_logs.js\"></script>\r\n</div>"
        }
    ]
}