{
    "sourceFile": "backend/controllers/securityaccesscontrolControllers.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1763885619669,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1763885619668,
            "name": "Commit-0",
            "content": "import { dbPool } from '../server.js'; // or wherever your DB connection is\n// OR import your database query module\n\n// GET Access Logs\nexport async function getaccesslogs(req, res) {\n  try {\n    const result = await dbPool.request()\n      .query(`SELECT Timestamp, UserId, Action, LogType FROM accesslogs ORDER BY Timestamp DESC`);\n    \n    const logs = result.recordset; // MSSQL returns recordset\n    res.json(logs);\n  } catch (err) {\n    console.error('Error fetching access logs:', err);\n    res.status(500).json({ message: 'Failed to fetch access logs' });\n  }\n}\n"
        }
    ]
}