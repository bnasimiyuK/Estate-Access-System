<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Membership | Athi Estate Access Management System</title>
  <script src="https://cdn.tailwindcss.com" defer></script>
  <link rel="stylesheet" href="css/styles.css" />
</head>
<body class="text-gray-800 relative">

  <div id="header" class="w-full bg-blue-900 text-white py-3 text-center">
    <h1 class="text-lg font-semibold">Athi Estate Access Management System</h1>
    <p class="text-sm mt-1">
      Total Membership Requests: <span id="membershipCount" class="font-bold">0</span>
    </p>
  </div>

  <video autoplay muted loop playsinline class="fixed top-0 left-0 w-full h-full object-cover -z-10">
    <source src="assets/Hero.webm" type="video/webm" />
  </video>
  <div class="absolute inset-0 bg-black/50 -z-10"></div>

  <main class="flex flex-col justify-start items-center pt-12 pb-20 gap-10">
    <!-- Form Section -->
    <div class="max-w-md w-full p-8 text-sm bg-white/95 backdrop-blur-sm rounded-xl shadow-2xl">
      <h2 class="text-lg font-semibold mb-4 text-center text-blue-800">Membership Request</h2>
      <form id="membershipForm" class="space-y-4">
        <input type="text" name="ResidentName" placeholder="Resident Name" required class="input-field" />
        <input type="text" name="NationalID" placeholder="National ID" required class="input-field" />
        <input type="text" name="PhoneNumber" placeholder="Phone Number" required class="input-field" />
        <input type="email" name="Email" placeholder="Email" required class="input-field" />
        <input type="text" name="HouseNumber" placeholder="House Number" required class="input-field" />
        <input type="text" name="CourtName" placeholder="Court Name" required class="input-field" />
        <label for="RoleName" class="block text-sm font-medium text-gray-700">Select Role</label>
        <select id="RoleName" name="RoleName" required class="input-field">
          <option value="Resident">2</option>
          <option value="Admin">1</option>
          <option value="Security">3/option>
          <option value="Visitor">4</option>
        </select>
        <button type="submit" class="w-full bg-blue-700 hover:bg-blue-800 text-white py-2 rounded-lg font-medium transition">
          Submit Request
        </button>
      </form>

      <p id="feedbackMessage" class="mt-3 text-sm text-center"></p>

      <p class="mt-4 text-xs text-center text-gray-600">
        Already a member? <a href="login.html" class="text-blue-700 hover:underline">Login</a>
      </p>
    </div>

    <!-- Membership Requests Table -->
    <div class="max-w-5xl w-full p-6 bg-white/95 backdrop-blur-sm rounded-xl shadow-2xl overflow-x-auto">
      <h2 class="text-lg font-semibold mb-4 text-blue-800">Existing Membership Requests</h2>
      <table class="min-w-full border border-gray-300">
        <thead class="bg-blue-100">
          <tr>
            <th class="border px-2 py-1">RequestID</th>
            <th class="border px-2 py-1">ResidentName</th>
            <th class="border px-2 py-1">NationalID</th>
            <th class="border px-2 py-1">PhoneNumber</th>
            <th class="border px-2 py-1">Email</th>
            <th class="border px-2 py-1">HouseNumber</th>
            <th class="border px-2 py-1">CourtName</th>
            <th class="border px-2 py-1">Status</th>
            <th class="border px-2 py-1">RequestedAt</th>
            <th class="border px-2 py-1">RoleName</th>
          </tr>
        </thead>
        <tbody id="membershipTableBody">
          <!-- Data will be injected here -->
        </tbody>
      </table>
    </div>
  </main>

  <footer class="fixed bottom-0 left-0 w-full bg-blue-900/90 text-white text-center py-2 text-xs">
    <p>&copy; <span id="year"></span> Athi Estate Access System. All rights reserved.</p>
  </footer>

  <script src="js/membership.js" defer></script>
  <script src="js/main.js" defer></script>
  <script src="js/navbar.js" defer></script>
  <script>
    document.getElementById("year").textContent = new Date().getFullYear();
  </script>
</body>
</html>
